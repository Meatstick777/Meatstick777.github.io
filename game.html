<!DOCTYPE html>
<html>
<head>
  <title>Pacman Mouse Game</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <style>
    .custom-navbar {
      background-color: #2b2b2b;
    }

    .game-frame {
      width: 100%;
      max-width: 900px;
      height: 600px;
      border: none;
    }
  </style>
</head>

<body>
<div class="container-fluid">

  <!-- Navbar -->
  <nav class="navbar navbar-expand-sm navbar-dark custom-navbar">
    <div class="container-fluid">
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link" href="portfolio.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="glitch.html">Glitch-Art</a></li>
        <li class="nav-item"><a class="nav-link" href="mememashup.html">Meme-Mashup</a></li>
        <li class="nav-item"><a class="nav-link" href="minecraft.html">Minecraft</a></li>
        <li class="nav-item"><a class="nav-link" href="3dprint.html">3D-Print</a></li>
        <li class="nav-item"><a class="nav-link" href="net_art.html">Net-Art</a></li>
        <li class="nav-item"><a class="nav-link" href="self_portrait.html">Self-Portrait</a></li>
        <li class="nav-item"><a class="nav-link" href="photoshop.html">DIY-Photoshop</a></li>
        <li class="nav-item"><a class="nav-link" href="game.html">Mouse-Game</a></li>
        <li class="nav-item"><a class="nav-link" href="finalproject.html">Final-Project</a></li>
      </ul>
    </div>
  </nav>

  <h1 class="text-center my-4">Pacman Mouse Game</h1>

  <!-- Game -->
  <div class="container text-center">
    <iframe
      src="https://meatstick777.github.io/mousegame.html"
      class="game-frame mx-auto d-block"
      allowfullscreen>
    </iframe>

    <div class="mt-4">
      <p class="text-center">
        My game is inspired by Pac-Man and how the ghosts chase him while he eats them.
        Eat blue ghosts to gain points, avoid red ghosts, and reach 100 points to win.
      </p>
    </div>
  </div>
</div>

<!-- ============================= -->
<!-- COPYABLE p5.js GAME CODE -->
<!-- ============================= -->
<div class="container my-5">
  <h2 class="text-center mb-3">p5.js Game Source Code</h2>
  <p class="text-center">
    Copy and paste this code to experiment or modify the game.
  </p>

  <pre style="
    background:#f5f5f5;
    color:#000;
    padding:20px;
    border-radius:8px;
    max-height:600px;
    overflow:auto;
    font-size:14px;
    line-height:1.4;
  "><code>

// ----------------------------
// Global Variables
// ----------------------------
var ghostSize = 40;
var score = 0;
var level = 1;
let gameState = "intro";

// (PASTE FULL p5.js GAME CODE HERE)
// ----------------------------
// Global Variables
// ----------------------------
var ghostSize = 40;
var score = 0;
var level = 1;
let gameState = "intro"; // "intro", "playing", "win"

// Mouth animation
let mouthAngle = 45;
let mouthSpeed = 2;

// Ghost Colors (same in all levels)
let ghostColors = [
  [255, 0, 0],       // Red ghost (chase)
  [0, 0, 255],       // Blue ghost (vulnerable)
  [255, 184, 255],   // Pink ghost (vulnerable)
  [255, 184, 82]     // Orange ghost (vulnerable)
];

// ------------ GHOST SYSTEM --------------
let ghosts = []; // Will be initialized per level

// ----------------------------
// Setup
// ----------------------------
function setup() {
  createCanvas(600, 600);
  textAlign(CENTER);
  textSize(20);
  noCursor();
}

// ----------------------------
// Draw Loop
// ----------------------------
function draw() {
  if (gameState === "intro") {
    drawIntroScreen();
  } else if (gameState === "playing") {
    if (level === 1) drawBackground(color(0, 0, 255));
    if (level === 2) drawBackground(color(255, 0, 0));
    if (level === 3) drawBackground(color(0, 255, 255));
    if (level === 4) drawBackground(color(255, 255, 0));

    if (level === 1) levelOne();
    else if (level === 2) levelTwo();
    else if (level === 3) levelThree();
    else if (level === 4) levelFour();

    fill(255);
    text("Score: " + score, width / 2, 40);

    drawPacman(mouseX, mouseY, 40);
    animateMouth();
  } else if (gameState === "win") {
    drawWinScreen();
  }
}

// ----------------------------
// Intro Screen
// ----------------------------
function drawIntroScreen() {
  background(0);
  fill(255, 255, 0);
  textSize(48);
  text("PAC-MAN MOUSE GAME", width / 2, height / 2 - 100);

  textSize(20);
  fill(255);
  text("Rules:", width / 2, height / 2 - 40);
  text("1. Eat the blue ghosts to gain points.", width / 2, height / 2 - 10);
  text("2. Avoid red ghostsâ€”they deduct points.", width / 2, height / 2 + 20);
  text("3. Reach 100 points to win.", width / 2, height / 2 + 50);
  text("Press ENTER or click to start!", width / 2, height / 2 + 100);
}

// ----------------------------
// Win Screen
// ----------------------------
function drawWinScreen() {
  background(0);
  fill(255, 255, 0);
  textSize(48);
  text("YOU WIN!", width / 2, height / 2);
  textSize(24);
  fill(255);
  text("Refresh the page to play again.", width / 2, height / 2 + 50);
}

// ----------------------------
// Key Press
// ----------------------------
function keyPressed() {
  if (gameState === "intro" && key === 'Enter') {
    startGame();
  }
}

// ----------------------------
// Mouse Click
// ----------------------------
function mousePressed() {
  if (gameState === "intro") {
    startGame();
  }
}

// ----------------------------
// Start Game Function
// ----------------------------
function startGame() {
  gameState = "playing";
  level = 1;
  score = 0;
  setupLevelOne();
}

// ----------------------------
// Level Setups
// ----------------------------
function setupLevelOne() {
  ghosts = [
    { x: 150, y: 150, speed: 1.3, colorIndex: 1, type: "vulnerable", speedX: 1.3, speedY: 1.3 },
    { x: 450, y: 450, speed: 1.0, colorIndex: 1, type: "vulnerable", speedX: 1.0, speedY: 1.0 }
  ];
}

function setupLevelTwo() {
  ghosts = [
    { x: 150, y: 150, speed: 1.8, colorIndex: 1, type: "vulnerable", speedX: 1.8, speedY: 1.8 },
    { x: 450, y: 450, speed: 2.5, colorIndex: 0, type: "chase" }
  ];
}

function setupLevelThree() {
  ghosts = [
    { x: 100, y: 100, speed: 3.0, colorIndex: 0, type: "chase" },
    { x: 500, y: 100, speed: 1.8, colorIndex: 1, type: "vulnerable", speedX: 1.8, speedY: 1.8 },
    { x: 100, y: 500, speed: 1.8, colorIndex: 1, type: "vulnerable", speedX: 1.8, speedY: 1.8 },
    { x: 500, y: 500, speed: 1.8, colorIndex: 1, type: "vulnerable", speedX: 1.8, speedY: 1.8 }
  ];
}

function setupLevelFour() {
  ghosts = [
    { x: 100, y: 100, speed: 3.0, colorIndex: 0, type: "chase" },
    { x: 500, y: 100, speed: 3.0, colorIndex: 0, type: "chase" },
    { x: 100, y: 500, speed: 3.0, colorIndex: 0, type: "chase" },
    { x: 500, y: 500, speed: 2.5, colorIndex: 1, type: "vulnerable", speedX: 2.5, speedY: 2.5 }
  ];
}

// ----------------------------
// Level Functions
// ----------------------------
function levelOne() {
  fill(255);
  text("LEVEL 1", width / 2, height - 20);
  textSize(16);
  fill(0, 255, 0);
  text("All ghosts are harmless, so eat them all for now...", width / 2, height - 50);

  handleGhosts();

  if (score >= 25) {
    level = 2;
    setupLevelTwo();
  }
}

function levelTwo() {
  fill(255);
  text("LEVEL 2", width / 2, height - 20);
  textSize(16);
  fill(255, 0, 0);
  text("Red ghosts now chase you!", width / 2, height - 50);

  handleGhosts();

  if (score >= 50) {
    level = 3;
    setupLevelThree();
  }
}

function levelThree() {
  fill(255);
  text("LEVEL 3", width / 2, height - 20);
  textSize(16);
  fill(255, 0, 0);
  text("Red ghost is faster now! Eat blue ghosts carefully.", width / 2, height - 50);

  handleGhosts();

  if (score >= 75) {
    level = 4;
    setupLevelFour();
  }
}

function levelFour() {
  fill(255);
  text("LEVEL 4", width / 2, height - 20);
  textSize(16);
  fill(255, 0, 0);
  text("Three red ghosts! Be careful and catch the blue one!", width / 2, height - 50);

  handleGhosts();

  if (score >= 100) {
    gameState = "win";
  }
}

// ----------------------------
// Handle Ghosts & Collisions
// ----------------------------
function handleGhosts() {
  for (let g of ghosts) {
    moveGhost(g);
    drawGhost(g.x, g.y, ghostSize, g.colorIndex);

    let d = dist(g.x, g.y, mouseX, mouseY);
    if (g.type === "vulnerable" && d < ghostSize / 2) {
      score++;
      g.x = random(60, width - 60);
      g.y = random(60, height - 60);
    }
    if (g.type === "chase" && d < ghostSize / 2) {
      score = max(0, score - 1);
      g.x = random(60, width - 60);
      g.y = random(60, height - 60);
    }
  }

  separateGhosts();
}

// ----------------------------
// Separate Ghosts
// ----------------------------
function separateGhosts() {
  for (let i = 0; i < ghosts.length; i++) {
    for (let j = i + 1; j < ghosts.length; j++) {
      let dx = ghosts[j].x - ghosts[i].x;
      let dy = ghosts[j].y - ghosts[i].y;
      let distance = sqrt(dx * dx + dy * dy);
      if (distance < ghostSize) {
        let angle = atan2(dy, dx);
        let move = (ghostSize - distance) / 2 + 1;
        ghosts[i].x -= cos(angle) * move;
        ghosts[i].y -= sin(angle) * move;
        ghosts[j].x += cos(angle) * move;
        ghosts[j].y += sin(angle) * move;
      }
    }
  }
}

// ----------------------------
// Move Ghosts
// ----------------------------
function moveGhost(g) {
  if (g.type === "chase") {
    let dx = mouseX - g.x;
    let dy = mouseY - g.y;
    let d = sqrt(dx * dx + dy * dy);
    if (d > 0) {
      g.x += (dx / d) * g.speed;
      g.y += (dy / d) * g.speed;
    }
  }

  if (g.type === "vulnerable") {
    g.x += g.speedX;
    g.y += g.speedY;
    if (g.x < 40 || g.x > width - 40) g.speedX *= -1;
    if (g.y < 40 || g.y > height - 40) g.speedY *= -1;
  }
}

// ----------------------------
// Draw Ghost
// ----------------------------
function drawGhost(x, y, size, colorIndex) {
  let c = ghostColors[colorIndex];
  fill(c[0], c[1], c[2]);
  noStroke();

  let ghostHeight = size * 1.2;
  let scallopRadius = size / 6;

  arc(x, y, size, size, PI, TWO_PI, CHORD);
  for (let i = -1; i <= 1; i++) {
    ellipse(x + i * scallopRadius * 2, y + ghostHeight / 2, scallopRadius * 2, scallopRadius * 2);
  }
  rect(x - size / 2, y, size, ghostHeight / 2);

  let eyeSize = size / 5;
  let pupilSize = size / 10;
  let eyeOffsetX = size / 6;
  let eyeOffsetY = size / 6;

  fill(255);
  ellipse(x - eyeOffsetX, y - eyeOffsetY, eyeSize, eyeSize);
  ellipse(x + eyeOffsetX, y - eyeOffsetY, eyeSize, eyeSize);

  fill(0);
  let pupilRange = eyeSize / 4;
  let dx = mouseX - x;
  let dy = mouseY - y;
  let distPupil = sqrt(dx * dx + dy * dy);
  if (distPupil > 0) {
    dx = (dx / distPupil) * pupilRange;
    dy = (dy / distPupil) * pupilRange;
  }

  ellipse(x - eyeOffsetX + dx, y - eyeOffsetY + dy, pupilSize, pupilSize);
  ellipse(x + eyeOffsetX + dx, y - eyeOffsetY + dy, pupilSize, pupilSize);
}

// ----------------------------
// Pac-Man
// ----------------------------
function drawPacman(x, y, size) {
  fill(255, 255, 0);
  let angle = radians(mouthAngle);
  arc(x, y, size, size, angle, TWO_PI - angle, PIE);
}

// ----------------------------
// Mouth Animation
// ----------------------------
function animateMouth() {
  mouthAngle += mouthSpeed;
  if (mouthAngle > 45 || mouthAngle < 10) mouthSpeed *= -1;
}

// ----------------------------
// Maze Background
// ----------------------------
function drawBackground(wallColor) {
  background(0);
  stroke(wallColor);
  strokeWeight(4);
  noFill();

  rect(0, 0, width, height);
  rect(60, 60, width - 120, 20);
  rect(60, height - 80, width - 120, 20);
  rect(140, 140, width - 280, 20);
  rect(140, height - 160, width - 280, 20);
  rect(60, 80, 20, height - 160);
  rect(width - 80, 80, 20, height - 160);
  rect(120, 140, 20, height - 280);
  rect(width - 140, 140, 20, height - 280);
  rect(width / 2 - 60, 220, 120, 20);
  rect(width / 2 - 60, height - 240, 120, 20);

  fill(255);
  noStroke();
  let cellSize = 20;
  for (let i = 40; i < width; i += cellSize) {
    for (let j = 40; j < height; j += cellSize) {
      if (!((i > 60 && i < width - 60 && j > 60 && j < 80) ||
            (i > 60 && i < width - 60 && j > height - 80 && j < height - 60) ||
            (i > 140 && i < width - 140 && j > 140 && j < height - 140))) {
        ellipse(i, j, 5, 5);
      }
    }
  }
}



  </code></pre>
</div>

</body>
</html>
