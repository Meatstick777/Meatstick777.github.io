<!DOCTYPE html>
<html>
<head>
  <title>DIY Photoshop</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- p5.js -->
  <script src="https://cdn.jsdelivr.net/npm/p5@1.7.0/lib/p5.min.js"></script>

  <style>
    .custom-navbar {
      background-color: #2b2b2b;
    }

    /* Centered canvas container */
    .canvas-container {
      display: flex;
      justify-content: center;
      margin: 20px 0;
      position: relative;
    }

    /* Optional: canvas border to show drawing area */
    #drawCanvas {
      border: 3px solid black;
    }

    /* Center the description text */
    .description {
      text-align: center;
      font-size: 18px;
      margin-top: 10px;
    }

    /* Centered bottom text */
    #custom-text {
      text-align: center;
      margin: 20px 0;
      font-family: Arial, sans-serif;
      font-size: 18px;
      color: #333;
    }
  </style>
</head>
<body>
<div class="container-fluid">

  <!-- Navbar -->
  <nav class="navbar navbar-expand-sm navbar-dark custom-navbar">
    <div class="container-fluid">
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link" href="portfolio.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="glitch.html">Glitch-Art</a></li>
        <li class="nav-item"><a class="nav-link" href="mememashup.html">Meme-Mashup</a></li>
        <li class="nav-item"><a class="nav-link" href="minecraft.html">Minecraft</a></li>
        <li class="nav-item"><a class="nav-link" href="3dprint.html">3D-Print</a></li>
        <li class="nav-item"><a class="nav-link" href="net_art.html">Net-Art</a></li>
        <li class="nav-item"><a class="nav-link" href="self_portrait.html">Self-Portrait</a></li>
        <li class="nav-item"><a class="nav-link" href="photoshop.html">DIY-Photoshop</a></li>
        <li class="nav-item"><a class="nav-link" href="game.html">Mouse-Game</a></li>
      </ul>
    </div>
  </nav>

  <!-- Title Text -->
  <h2 class="description-title" style="text-align: center; margin-bottom: 10x;">
  This is my DIY Photo Photoshop Canvas
  </h2>

  <!-- description -->
<p class="description-text" style="width: 80%; margin: 0 auto; text-align: center; font-size: 16px;">
  For my different brushes I decided to make them into the style of popular spray paint styles. Its purpose is for the people who enjoy graffiti and the randomness it can become. There are brushes from 1-0 and "X" to clear.
  </p>

  <!-- Canvas Container -->
  <div class="canvas-container"></div>

  <!-- Editable Bottom Text -->
  <div id="custom-text">
    var img;<br>
var img2; <br>
var initials = 'OP'; <br>
var choice = '1'; <br>
var screenbg = 255; <br>
var lastscreenshot = 61; <br>

// ----------------------------- <br>
// Brush sizes for each tool <br>
// ----------------------------- <br>
let brushSizes = { <br>
  "0": 50, <br>
  "1": 20, <br>
  "2": 20, <br>
  "3": 15, <br>
  "4": 20, <br>
  "5": 5, <br>
  "6": 25, <br>
  "7": 10, <br>
  "8": 20, <br>
  "9": 20, <br>
  "g": 50 <br>
}; <br>

// Arrays for dripping, blow effects, and ripples <br>
let drippingDrops = []; <br>
let blowDrops = []; <br>
let energyRipples = []; <br>

function preload() { <br>
  img = loadImage('https://veryprofessional3d.github.io/images/cat3.jpg'); <br>
  img2 = loadImage('https://veryprofessional3d.github.io/images/cat2.jpg'); <br>
} <br>

function setup() { <br>
  createCanvas(600, 600); <br>
  background(screenbg); <br>
} <br>
 
function draw() { <br>

  // Dripping updates <br>
  for (let i = drippingDrops.length - 1; i >= 0; i--) { <br>
    let d = drippingDrops[i]; <br>
    fill(d.color[0], d.color[1], d.color[2], d.alpha); <br>
    noStroke(); <br>
    circle(d.x, d.y, d.size); <br>
    if (d.y < d.startY + d.maxDistance) { <br>
      d.y += d.speed; <br>
    } <br>
  } <br>

  // Blow updates <br>
  for (let i = blowDrops.length - 1; i >= 0; i--) { <br>
    let p = blowDrops[i]; <br>
    fill(p.color[0], p.color[1], p.color[2], p.alpha); <br>
    noStroke(); <br>
    circle(p.x, p.y, p.size); <br>
    p.x += p.vx; <br>
    p.y += p.vy; <br>
    p.alpha -= 2; <br>
    p.size *= 0.98; <br>
    if (p.alpha <= 0 || p.size <= 0.5) blowDrops.splice(i, 1); <br>
  } <br>

  // Ripple updates <br>
  for (let i = energyRipples.length - 1; i >= 0; i--) { <br>
    let r = energyRipples[i]; <br>
    noFill(); <br>
    stroke(r.color[0], r.color[1], r.color[2], r.alpha); <br>
    strokeWeight(2); <br>
    circle(r.x, r.y, r.radius * 2); <br>
    r.radius += 1; <br>
    r.alpha -= 3; <br>
    if (r.alpha <= 0) energyRipples.splice(i, 1); <br>
  } <br>

  if (keyIsPressed) { <br>
    if ("0123456789gG".includes(key)) choice = key; <br>
    clear_print(); <br>
  } <br>

  if (mouseIsPressed) newkeyChoice(choice); <br>
} <br>

// ----------------------------- <br>
// Star Shape Helper <br>
// ----------------------------- <br>
function drawStar(x, y, r1, r2, npoints) { <br>
  let angle = TWO_PI / npoints; <br>
  let halfAngle = angle / 2; <br>
  beginShape(); <br>
  for (let a = 0; a < TWO_PI; a += angle) { <br>
    vertex(x + cos(a) * r2, y + sin(a) * r2); <br>
    vertex(x + cos(a + halfAngle) * r1, y + sin(a + halfAngle) * r1); <br>
  } <br>
  endShape(CLOSE); <br>
} <br>

// ----------------------------- <br>
// Palettes <br>
// ----------------------------- <br>
let palettes = { <br>
  "0": [ [0,255,255],[255,0,255],[255,255,0],[128,0,255] ], <br>
  "1": [ [255,0,0],[255,128,0],[255,255,0],[0,255,0],[0,255,255],[0,0,255],[128,0,255] ], <br>
  "2": [ [255,100,0],[255,150,50],[255,200,100] ], <br>
  "3": [ [50,100,255],[100,150,255],[150,200,255] ], <br>
  "4": [ [255,0,255],[255,128,255],[255,200,255] ], <br>
  "5": [ [255,255,0],[255,200,0],[255,150,0] ], <br>
  "6": [ [255,128,0],[255,200,0],[255,255,0] ], <br>
  "7": [ [0,255,128],[0,200,255],[0,150,255] ], <br>
  "8": [ [0,255,255],[0,200,200],[0,150,255] ], <br>
  "9": [ [255,50,200],[255,100,220],[255,150,240] ] <br>
}; <br>

// ----------------------------- <br>
// Brush Logic <br> 
// ----------------------------- <br>
function newkeyChoice(toolChoice) { <br>
  let size = brushSizes[toolChoice] || 10; <br>
  let palette = palettes[toolChoice] || [[255,255,255]]; <br>

  // ------------------------- <br>
  // FIXED BRUSH 1 (Now shows color) <br>
  // ------------------------- <br>
  if (toolChoice == '1') { <br>
    noStroke(); <br>
    for (let i = 0; i < 40; i++) { <br>
      let c = random(palette); <br>
      fill(c[0], c[1], c[2], 120); <br>
      circle( <br>
        mouseX + random(-size, size), <br>
        mouseY + random(-size, size), <br>
        random(3, 6) <br>
      ); <br>
    } <br>
  } <br>

  // Brush 2 – Drips <br>
  else if (toolChoice == '2') { <br>
    noStroke(); <br>
    if (frameCount % 2 === 0) { <br>
      for (let i = 0; i < 3; i++) { <br>
        let c = random(palette); <br>
        drippingDrops.push({ <br>
          x: mouseX + random(-5, 5), <br>
          y: mouseY + random(-5, 5), <br>
          startY: mouseX, <br>
          size: random(1.5, size / 4), <br>
          speed: random(0.5, 1.2), <br>
          alpha: random(80, 150), <br>
          maxDistance: random(10, 25), <br>
          color: c <br>
        }); <br>
      } <br>
    } <br>
  } <br>

  // Brush 3 – Blow <br>
  else if (toolChoice == '3') { <br>
    for (let i = 0; i < 3; i++) { <br>
      let c = random(palette); <br>
      blowDrops.push({ <br>
        x: mouseX, <br>
        y: mouseY, <br>
        vx: random(-0.8, 0.8), <br>
        vy: random(-0.8, 0.8), <br>
        size: random(1, size / 2), <br>
        alpha: random(80,150), <br>
        color: c <br>
      }); <br>
    } <br>
  } <br>

  // Brush 4 – Streaks <br>
  else if (toolChoice == '4') { <br>
    for (let i = 0; i < 4; i++) { <br>
      let angle = random(-PI/6, PI/6); <br>
      let len = random(size, size + 15); <br>
      let thick = random(2,4); <br>
      let x2 = mouseX + cos(angle)*len; <br>
      let y2 = mouseY + sin(angle)*len; <br>
      let c = random(palette); <br>
      stroke(c[0],c[1],c[2],150); <br>
      strokeWeight(thick); <br>
      line(mouseX,mouseY,x2,y2); <br>
    } <br>
  } <br>

  // Brush 5 – Stars <br>
  else if (toolChoice == '5') { <br>
    for (let i = 0; i < 18; i++) { <br>
      let ox = random(-30,30); <br>
      let oy = random(-30,30); <br>
      let s = random(1.5, size); <br>
      let c = random(palette); <br>
      fill(c[0],c[1],c[2],random(80,180)); <br>
      noStroke(); <br>
      drawStar(mouseX+ox, mouseY+oy, s/2, s, 5); <br>
    } <br>
  } <br>

  // Brush 6 – Magic Sparkle <br>
  else if (toolChoice == '6') { <br>
    for (let i = 0; i < 12; i++) { <br>
      let px = mouseX + random(-10,10); <br>
      let py = mouseY + random(-10,10); <br>
      let sz = random(2,size); <br>
      let c = random(palette); <br>
      noStroke(); <br>
      fill(c[0],c[1],c[2],150); <br>
      circle(px,py,sz); <br>
    } <br>
  } <br>

  // Brush 7 – Bubble Burst <br>
  else if (toolChoice == '7') { <br> 
    for (let i = 0; i < 6; i++) { <br>
      let bx = mouseX + random(-15,15); <br>
      let by = mouseY + random(-15,15); <br>
      let bsize = random(1,size); <br>
      let alpha = random(50,120); <br>
      let c = random(palette); <br>
      fill(c[0],c[1],c[2],alpha); <br>
      noStroke(); <br>
      circle(bx,by,bsize); <br>
    } <br>
  } <br>

  // Brush 8 – Neon Sign <br>
  else if (toolChoice == '8') { <br> 
    for (let i = size; i >= 1; i--) { <br>
      let c = random(palette); <br>
      stroke(c[0],c[1],c[2],50); <br>
      strokeWeight(i*2); <br>
      line(pmouseX, pmouseY, mouseX, mouseY); <br>
    } <br>
  } <br> 

  // Brush 9 – Neon Pulse <br>
  else if (toolChoice == '9') { <br>
    let base = random(size, size+10); <br>
    for (let glow = 3; glow >= 1; glow--) { <br>
      let c = random(palette); <br>
      noFill(); <br>
      stroke(c[0],c[1],c[2],120/glow); <br>
      strokeWeight(glow*2); <br>
      circle(mouseX, mouseY, base + glow*5); <br>
    } <br>
  } <br>

  // Brush 0 – Energy Ripple <br>
  else if (toolChoice == '0') { <br>
    for (let i = 0; i < 3; i++) { <br>
      let c = random(palette); <br>
      energyRipples.push({ <br>
        x: mouseX, <br>
        y: mouseY, <br>
        radius: random(5,15), <br>
        color: c, <br>
        alpha: 150 <br>
      }); <br>
    } <br>
  } <br>

  // Image Brush <br>
  else if (toolChoice == 'g' || toolChoice == 'G') { <br>
    image(img, mouseX, mouseY, 50, 50); <br>
  } <br>
} <br>

// --------------------------------------------------------- <br>
// CLEAN + SCREENSHOT  — FIXED CLEAN FUNCTION <br>
// --------------------------------------------------------- <br>
function clear_print() { <br>
  if (key == 'x' || key == 'X') { <br>
    clear(); <br>
    background(screenbg); <br>

    // stop old particles from returning <br>
    drippingDrops = []; <br>
    blowDrops = []; <br>
    energyRipples = []; <br>
  }  <br>
  else if (key == 'p' || key == 'P') { <br>
    saveme(); <br>
  } <br>
} <br>

function saveme() { <br>
  let filename = initials + day() + hour() + minute() + second(); <br>
  if (second() != lastscreenshot) { <br>
    saveCanvas(filename, 'jpg'); <br>
    key = ""; <br>
  } <br>
  lastscreenshot = second(); <br>
} <br>
  </div> <br>

</div> <br>

<!-- DIY Photoshop p5.js Code -->
<script>
var img;
var img2; 
var initials = 'OP'; 
var choice = '1'; 
var screenbg = 255; 
var lastscreenshot = 61;

// Brush sizes
let brushSizes = {
  "0": 50, "1": 20, "2": 20, "3": 15, "4": 20,
  "5": 5, "6": 25, "7": 10, "8": 20, "9": 20, "g": 50
};

// Particle arrays
let drippingDrops = [];
let blowDrops = [];
let energyRipples = [];

function preload() {
  img = loadImage('https://veryprofessional3d.github.io/images/cat3.jpg');
  img2 = loadImage('https://veryprofessional3d.github.io/images/cat2.jpg');
}

function setup() {
  let cnv = createCanvas(600, 600);
  cnv.parent(document.querySelector('.canvas-container'));
  cnv.id('drawCanvas');
  background(screenbg);
}

function draw() {
  // Drips
  for (let i = drippingDrops.length - 1; i >= 0; i--) {
    let d = drippingDrops[i];
    fill(d.color[0], d.color[1], d.color[2], d.alpha);
    noStroke();
    circle(d.x, d.y, d.size);
    if (d.y < d.startY + d.maxDistance) d.y += d.speed;
  }

  // Blow
  for (let i = blowDrops.length - 1; i >= 0; i--) {
    let p = blowDrops[i];
    fill(p.color[0], p.color[1], p.color[2], p.alpha);
    noStroke();
    circle(p.x, p.y, p.size);
    p.x += p.vx; p.y += p.vy;
    p.alpha -= 2;
    p.size *= 0.98;
    if (p.alpha <= 0 || p.size <= 0.5) blowDrops.splice(i, 1);
  }

  // Ripples
  for (let i = energyRipples.length - 1; i >= 0; i--) {
    let r = energyRipples[i];
    noFill();
    stroke(r.color[0], r.color[1], r.color[2], r.alpha);
    strokeWeight(2);
    circle(r.x, r.y, r.radius*2);
    r.radius += 1;
    r.alpha -= 3;
    if (r.alpha <= 0) energyRipples.splice(i, 1);
  }

  if (keyIsPressed) {
    if ("0123456789gG".includes(key)) choice = key;
    clear_print();
  }

  if (mouseIsPressed) newkeyChoice(choice);
}

// Star helper
function drawStar(x, y, r1, r2, npoints) {
  let angle = TWO_PI / npoints;
  let halfAngle = angle/2;
  beginShape();
  for (let a=0; a<TWO_PI; a+=angle) {
    vertex(x + cos(a)*r2, y + sin(a)*r2);
    vertex(x + cos(a+halfAngle)*r1, y + sin(a+halfAngle)*r1);
  }
  endShape(CLOSE);
}

// Palettes
let palettes = {
  "0": [ [0,255,255],[255,0,255],[255,255,0],[128,0,255] ],
  "1": [ [255,0,0],[255,128,0],[255,255,0],[0,255,0],[0,255,255],[0,0,255],[128,0,255] ],
  "2": [ [255,100,0],[255,150,50],[255,200,100] ],
  "3": [ [50,100,255],[100,150,255],[150,200,255] ],
  "4": [ [255,0,255],[255,128,255],[255,200,255] ],
  "5": [ [255,255,0],[255,200,0],[255,150,0] ],
  "6": [ [255,128,0],[255,200,0],[255,255,0] ],
  "7": [ [0,255,128],[0,200,255],[0,150,255] ],
  "8": [ [0,255,255],[0,200,200],[0,150,255] ],
  "9": [ [255,50,200],[255,100,220],[255,150,240] ]
};

// Brush logic
function newkeyChoice(toolChoice) {
  let size = brushSizes[toolChoice] || 10;
  let palette = palettes[toolChoice] || [[255,255,255]];

  if (toolChoice == '1') {
    noStroke();
    for (let i=0;i<40;i++){
      let c=random(palette);
      fill(c[0],c[1],c[2],120);
      circle(mouseX+random(-size,size),mouseY+random(-size,size),random(3,6));
    }
  }
  else if (toolChoice == '2') {
    noStroke();
    if(frameCount%2===0){
      for(let i=0;i<3;i++){
        let c=random(palette);
        drippingDrops.push({
          x:mouseX+random(-5,5),
          y:mouseY+random(-5,5),
          startY:mouseX,
          size:random(1.5,size/4),
          speed:random(0.5,1.2),
          alpha:random(80,150),
          maxDistance:random(10,25),
          color:c
        });
      }
    }
  }
  else if (toolChoice == '3') {
    for(let i=0;i<3;i++){
      let c=random(palette);
      blowDrops.push({
        x:mouseX,y:mouseY,vx:random(-0.8,0.8),vy:random(-0.8,0.8),
        size:random(1,size/2),alpha:random(80,150),color:c
      });
    }
  }
  else if (toolChoice == '4') {
    for(let i=0;i<4;i++){
      let angle=random(-PI/6,PI/6);
      let len=random(size,size+15);
      let thick=random(2,4);
      let x2=mouseX+cos(angle)*len;
      let y2=mouseY+sin(angle)*len;
      let c=random(palette);
      stroke(c[0],c[1],c[2],150);
      strokeWeight(thick);
      line(mouseX,mouseY,x2,y2);
    }
  }
  else if (toolChoice == '5') {
    for(let i=0;i<18;i++){
      let ox=random(-30,30);let oy=random(-30,30);
      let s=random(1.5,size);
      let c=random(palette);
      fill(c[0],c[1],c[2],random(80,180));
      noStroke();
      drawStar(mouseX+ox,mouseY+oy,s/2,s,5);
    }
  }
  else if (toolChoice == '6') {
    for(let i=0;i<12;i++){
      let px=mouseX+random(-10,10);let py=mouseY+random(-10,10);
      let sz=random(2,size);let c=random(palette);
      noStroke();
      fill(c[0],c[1],c[2],150);
      circle(px,py,sz);
    }
  }
  else if (toolChoice == '7') {
    for(let i=0;i<6;i++){
      let bx=mouseX+random(-15,15);
      let by=mouseY+random(-15,15);
      let bsize=random(1,size);
      let alpha=random(50,120);
      let c=random(palette);
      fill(c[0],c[1],c[2],alpha);
      noStroke();
      circle(bx,by,bsize);
    }
  }
  else if (toolChoice == '8') {
    for(let i=size;i>=1;i--){
      let c=random(palette);
      stroke(c[0],c[1],c[2],50);
      strokeWeight(i*2);
      line(pmouseX,pmouseY,mouseX,mouseY);
    }
  }
  else if (toolChoice == '9') {
    let base=random(size,size+10);
    for(let glow=3;glow>=1;glow--){
      let c=random(palette);
      noFill();
      stroke(c[0],c[1],c[2],120/glow);
      strokeWeight(glow*2);
      circle(mouseX,mouseY,base+glow*5);
    }
  }
  else if (toolChoice == '0') {
    for(let i=0;i<3;i++){
      let c=random(palette);
      energyRipples.push({x:mouseX,y:mouseY,radius:random(5,15),color:c,alpha:150});
    }
  }
  else if (toolChoice == 'g' || toolChoice=='G') {
    image(img,mouseX,mouseY,50,50);
  }
}

// Clean & Screenshot
function clear_print() {
  if(key=='x'||key=='X'){
    clear(); background(screenbg);
    drippingDrops=[]; blowDrops=[]; energyRipples=[];
  }
  else if(key=='p'||key=='P'){saveme();}
}

function saveme() {
  let filename=initials+day()+hour()+minute()+second();
  if(second()!=lastscreenshot){saveCanvas(filename,'jpg'); key="";}
  lastscreenshot=second();
}
</script>

</body>
</html>
