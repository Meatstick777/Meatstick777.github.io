<!DOCTYPE html>
<html>
<head>
  <title>DIY Photoshop</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- p5.js -->
  <script src="https://cdn.jsdelivr.net/npm/p5@1.7.0/lib/p5.min.js"></script>

  <style>
    .custom-navbar {
      background-color: #2b2b2b;
    }

    /* Centered canvas container */
    .canvas-container {
      display: flex;
      justify-content: center;
      margin: 20px 0;
      position: relative;
    }

    /* Optional: canvas border to show drawing area */
    #drawCanvas {
      border: 3px solid black;
    }

    /* Center the description text */
    .description {
      text-align: center;
      font-size: 18px;
      margin-top: 10px;
    }

    /* Centered bottom text */
    #custom-text {
      text-align: center;
      margin: 20px 0;
      font-family: Arial, sans-serif;
      font-size: 18px;
      color: #333;
    }
  </style>
</head>
<body>
<div class="container-fluid">

  <!-- Navbar -->
  <nav class="navbar navbar-expand-sm navbar-dark custom-navbar">
    <div class="container-fluid">
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link" href="portfolio.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="glitch.html">Glitch-Art</a></li>
        <li class="nav-item"><a class="nav-link" href="mememashup.html">Meme-Mashup</a></li>
        <li class="nav-item"><a class="nav-link" href="minecraft.html">Minecraft</a></li>
        <li class="nav-item"><a class="nav-link" href="3dprint.html">3D-Print</a></li>
        <li class="nav-item"><a class="nav-link" href="net_art.html">Net-Art</a></li>
        <li class="nav-item"><a class="nav-link" href="self_portrait.html">Self-Portrait</a></li>
        <li class="nav-item"><a class="nav-link" href="photoshop.html">DIY-Photoshop</a></li>
        <li class="nav-item"><a class="nav-link" href="mousegame.html">Mouse-Game</a></li>
      </ul>
    </div>
  </nav>

  <!-- Description Text -->
  <h2 class="description">
    This is my DIY Photoshop canvas. For my different brushes I decided to make them in the style of popular spray paint styles. Its purpose is for the people who enjoy graffiti and the randomness it can become. There are brushes from 1-0 and "X" to clear.
  </h2>

  <!-- Canvas Container -->
  <div class="canvas-container"></div>

  <!-- Editable Bottom Text -->
  <div id="custom-text">
    var img;<br>
var img2; <br>
var initials = 'OP'; <br>
var choice = '1'; <br>
var screenbg = 255; <br>
var lastscreenshot = 61; <br>

// ----------------------------- <br>
// Brush sizes for each tool <br>
// ----------------------------- <br>
let brushSizes = { <br>
  "0": 50, <br>
  "1": 20, <br>
  "2": 20, <br>
  "3": 15, <br>
  "4": 20, <br>
  "5": 5,
  "6": 25,
  "7": 10,
  "8": 20,
  "9": 20,
  "g": 50
};

// Arrays for dripping, blow effects, and ripples
let drippingDrops = [];
let blowDrops = [];
let energyRipples = [];

function preload() {
  img = loadImage('https://veryprofessional3d.github.io/images/cat3.jpg');
  img2 = loadImage('https://veryprofessional3d.github.io/images/cat2.jpg');
}

function setup() {
  createCanvas(600, 600);
  background(screenbg);
}

function draw() {

  // Dripping updates
  for (let i = drippingDrops.length - 1; i >= 0; i--) {
    let d = drippingDrops[i];
    fill(d.color[0], d.color[1], d.color[2], d.alpha);
    noStroke();
    circle(d.x, d.y, d.size);
    if (d.y < d.startY + d.maxDistance) {
      d.y += d.speed;
    }
  }

  // Blow updates
  for (let i = blowDrops.length - 1; i >= 0; i--) {
    let p = blowDrops[i];
    fill(p.color[0], p.color[1], p.color[2], p.alpha);
    noStroke();
    circle(p.x, p.y, p.size);
    p.x += p.vx;
    p.y += p.vy;
    p.alpha -= 2;
    p.size *= 0.98;
    if (p.alpha <= 0 || p.size <= 0.5) blowDrops.splice(i, 1);
  }

  // Ripple updates
  for (let i = energyRipples.length - 1; i >= 0; i--) {
    let r = energyRipples[i];
    noFill();
    stroke(r.color[0], r.color[1], r.color[2], r.alpha);
    strokeWeight(2);
    circle(r.x, r.y, r.radius * 2);
    r.radius += 1;
    r.alpha -= 3;
    if (r.alpha <= 0) energyRipples.splice(i, 1);
  }

  if (keyIsPressed) {
    if ("0123456789gG".includes(key)) choice = key;
    clear_print();
  }

  if (mouseIsPressed) newkeyChoice(choice);
}

// -----------------------------
// Star Shape Helper
// -----------------------------
function drawStar(x, y, r1, r2, npoints) {
  let angle = TWO_PI / npoints;
  let halfAngle = angle / 2;
  beginShape();
  for (let a = 0; a < TWO_PI; a += angle) {
    vertex(x + cos(a) * r2, y + sin(a) * r2);
    vertex(x + cos(a + halfAngle) * r1, y + sin(a + halfAngle) * r1);
  }
  endShape(CLOSE);
}

// -----------------------------
// Palettes
// -----------------------------
let palettes = {
  "0": [ [0,255,255],[255,0,255],[255,255,0],[128,0,255] ],
  "1": [ [255,0,0],[255,128,0],[255,255,0],[0,255,0],[0,255,255],[0,0,255],[128,0,255] ],
  "2": [ [255,100,0],[255,150,50],[255,200,100] ],
  "3": [ [50,100,255],[100,150,255],[150,200,255] ],
  "4": [ [255,0,255],[255,128,255],[255,200,255] ],
  "5": [ [255,255,0],[255,200,0],[255,150,0] ],
  "6": [ [255,128,0],[255,200,0],[255,255,0] ],
  "7": [ [0,255,128],[0,200,255],[0,150,255] ],
  "8": [ [0,255,255],[0,200,200],[0,150,255] ],
  "9": [ [255,50,200],[255,100,220],[255,150,240] ]
};

// -----------------------------
// Brush Logic
// -----------------------------
function newkeyChoice(toolChoice) {
  let size = brushSizes[toolChoice] || 10;
  let palette = palettes[toolChoice] || [[255,255,255]];

  // -------------------------
  // FIXED BRUSH 1 (Now shows color)
  // -------------------------
  if (toolChoice == '1') {
    noStroke();
    for (let i = 0; i < 40; i++) {
      let c = random(palette);
      fill(c[0], c[1], c[2], 120);
      circle(
        mouseX + random(-size, size),
        mouseY + random(-size, size),
        random(3, 6)
      );
    }
  }

  // Brush 2 – Drips
  else if (toolChoice == '2') {
    noStroke();
    if (frameCount % 2 === 0) {
      for (let i = 0; i < 3; i++) {
        let c = random(palette);
        drippingDrops.push({
          x: mouseX + random(-5, 5),
          y: mouseY + random(-5, 5),
          startY: mouseX,
          size: random(1.5, size / 4),
          speed: random(0.5, 1.2),
          alpha: random(80, 150),
          maxDistance: random(10, 25),
          color: c
        });
      }
    }
  }

  // Brush 3 – Blow
  else if (toolChoice == '3') {
    for (let i = 0; i < 3; i++) {
      let c = random(palette);
      blowDrops.push({
        x: mouseX,
        y: mouseY,
        vx: random(-0.8, 0.8),
        vy: random(-0.8, 0.8),
        size: random(1, size / 2),
        alpha: random(80,150),
        color: c
      });
    }
  }

  // Brush 4 – Streaks
  else if (toolChoice == '4') {
    for (let i = 0; i < 4; i++) {
      let angle = random(-PI/6, PI/6);
      let len = random(size, size + 15);
      let thick = random(2,4);
      let x2 = mouseX + cos(angle)*len;
      let y2 = mouseY + sin(angle)*len;
      let c = random(palette);
      stroke(c[0],c[1],c[2],150);
      strokeWeight(thick);
      line(mouseX,mouseY,x2,y2);
    }
  }

  // Brush 5 – Stars
  else if (toolChoice == '5') {
    for (let i = 0; i < 18; i++) {
      let ox = random(-30,30);
      let oy = random(-30,30);
      let s = random(1.5, size);
      let c = random(palette);
      fill(c[0],c[1],c[2],random(80,180));
      noStroke();
      drawStar(mouseX+ox, mouseY+oy, s/2, s, 5);
    }
  }

  // Brush 6 – Magic Sparkle
  else if (toolChoice == '6') {
    for (let i = 0; i < 12; i++) {
      let px = mouseX + random(-10,10);
      let py = mouseY + random(-10,10);
      let sz = random(2,size);
      let c = random(palette);
      noStroke();
      fill(c[0],c[1],c[2],150);
      circle(px,py,sz);
    }
  }

  // Brush 7 – Bubble Burst
  else if (toolChoice == '7') {
    for (let i = 0; i < 6; i++) {
      let bx = mouseX + random(-15,15);
      let by = mouseY + random(-15,15);
      let bsize = random(1,size);
      let alpha = random(50,120);
      let c = random(palette);
      fill(c[0],c[1],c[2],alpha);
      noStroke();
      circle(bx,by,bsize);
    }
  }

  // Brush 8 – Neon Sign
  else if (toolChoice == '8') {
    for (let i = size; i >= 1; i--) {
      let c = random(palette);
      stroke(c[0],c[1],c[2],50);
      strokeWeight(i*2);
      line(pmouseX, pmouseY, mouseX, mouseY);
    }
  }

  // Brush 9 – Neon Pulse
  else if (toolChoice == '9') {
    let base = random(size, size+10);
    for (let glow = 3; glow >= 1; glow--) {
      let c = random(palette);
      noFill();
      stroke(c[0],c[1],c[2],120/glow);
      strokeWeight(glow*2);
      circle(mouseX, mouseY, base + glow*5);
    }
  }

  // Brush 0 – Energy Ripple
  else if (toolChoice == '0') {
    for (let i = 0; i < 3; i++) {
      let c = random(palette);
      energyRipples.push({
        x: mouseX,
        y: mouseY,
        radius: random(5,15),
        color: c,
        alpha: 150
      });
    }
  }

  // Image Brush
  else if (toolChoice == 'g' || toolChoice == 'G') {
    image(img, mouseX, mouseY, 50, 50);
  }
}

// ---------------------------------------------------------
// CLEAN + SCREENSHOT  — FIXED CLEAN FUNCTION
// ---------------------------------------------------------
function clear_print() {
  if (key == 'x' || key == 'X') {
    clear();
    background(screenbg);

    // stop old particles from returning
    drippingDrops = [];
    blowDrops = [];
    energyRipples = [];
  } 
  else if (key == 'p' || key == 'P') {
    saveme();
  }
}

function saveme() {
  let filename = initials + day() + hour() + minute() + second();
  if (second() != lastscreenshot) {
    saveCanvas(filename, 'jpg');
    key = "";
  }
  lastscreenshot = second();
}
  </div>

</div>

<!-- DIY Photoshop p5.js Code -->
<script>
var img;
var img2; 
var initials = 'OP'; 
var choice = '1'; 
var screenbg = 255; 
var lastscreenshot = 61;

// Brush sizes
let brushSizes = {
  "0": 50, "1": 20, "2": 20, "3": 15, "4": 20,
  "5": 5, "6": 25, "7": 10, "8": 20, "9": 20, "g": 50
};

// Particle arrays
let drippingDrops = [];
let blowDrops = [];
let energyRipples = [];

function preload() {
  img = loadImage('https://veryprofessional3d.github.io/images/cat3.jpg');
  img2 = loadImage('https://veryprofessional3d.github.io/images/cat2.jpg');
}

function setup() {
  let cnv = createCanvas(600, 600);
  cnv.parent(document.querySelector('.canvas-container'));
  cnv.id('drawCanvas');
  background(screenbg);
}

function draw() {
  // Drips
  for (let i = drippingDrops.length - 1; i >= 0; i--) {
    let d = drippingDrops[i];
    fill(d.color[0], d.color[1], d.color[2], d.alpha);
    noStroke();
    circle(d.x, d.y, d.size);
    if (d.y < d.startY + d.maxDistance) d.y += d.speed;
  }

  // Blow
  for (let i = blowDrops.length - 1; i >= 0; i--) {
    let p = blowDrops[i];
    fill(p.color[0], p.color[1], p.color[2], p.alpha);
    noStroke();
    circle(p.x, p.y, p.size);
    p.x += p.vx; p.y += p.vy;
    p.alpha -= 2;
    p.size *= 0.98;
    if (p.alpha <= 0 || p.size <= 0.5) blowDrops.splice(i, 1);
  }

  // Ripples
  for (let i = energyRipples.length - 1; i >= 0; i--) {
    let r = energyRipples[i];
    noFill();
    stroke(r.color[0], r.color[1], r.color[2], r.alpha);
    strokeWeight(2);
    circle(r.x, r.y, r.radius*2);
    r.radius += 1;
    r.alpha -= 3;
    if (r.alpha <= 0) energyRipples.splice(i, 1);
  }

  if (keyIsPressed) {
    if ("0123456789gG".includes(key)) choice = key;
    clear_print();
  }

  if (mouseIsPressed) newkeyChoice(choice);
}

// Star helper
function drawStar(x, y, r1, r2, npoints) {
  let angle = TWO_PI / npoints;
  let halfAngle = angle/2;
  beginShape();
  for (let a=0; a<TWO_PI; a+=angle) {
    vertex(x + cos(a)*r2, y + sin(a)*r2);
    vertex(x + cos(a+halfAngle)*r1, y + sin(a+halfAngle)*r1);
  }
  endShape(CLOSE);
}

// Palettes
let palettes = {
  "0": [ [0,255,255],[255,0,255],[255,255,0],[128,0,255] ],
  "1": [ [255,0,0],[255,128,0],[255,255,0],[0,255,0],[0,255,255],[0,0,255],[128,0,255] ],
  "2": [ [255,100,0],[255,150,50],[255,200,100] ],
  "3": [ [50,100,255],[100,150,255],[150,200,255] ],
  "4": [ [255,0,255],[255,128,255],[255,200,255] ],
  "5": [ [255,255,0],[255,200,0],[255,150,0] ],
  "6": [ [255,128,0],[255,200,0],[255,255,0] ],
  "7": [ [0,255,128],[0,200,255],[0,150,255] ],
  "8": [ [0,255,255],[0,200,200],[0,150,255] ],
  "9": [ [255,50,200],[255,100,220],[255,150,240] ]
};

// Brush logic
function newkeyChoice(toolChoice) {
  let size = brushSizes[toolChoice] || 10;
  let palette = palettes[toolChoice] || [[255,255,255]];

  if (toolChoice == '1') {
    noStroke();
    for (let i=0;i<40;i++){
      let c=random(palette);
      fill(c[0],c[1],c[2],120);
      circle(mouseX+random(-size,size),mouseY+random(-size,size),random(3,6));
    }
  }
  else if (toolChoice == '2') {
    noStroke();
    if(frameCount%2===0){
      for(let i=0;i<3;i++){
        let c=random(palette);
        drippingDrops.push({
          x:mouseX+random(-5,5),
          y:mouseY+random(-5,5),
          startY:mouseX,
          size:random(1.5,size/4),
          speed:random(0.5,1.2),
          alpha:random(80,150),
          maxDistance:random(10,25),
          color:c
        });
      }
    }
  }
  else if (toolChoice == '3') {
    for(let i=0;i<3;i++){
      let c=random(palette);
      blowDrops.push({
        x:mouseX,y:mouseY,vx:random(-0.8,0.8),vy:random(-0.8,0.8),
        size:random(1,size/2),alpha:random(80,150),color:c
      });
    }
  }
  else if (toolChoice == '4') {
    for(let i=0;i<4;i++){
      let angle=random(-PI/6,PI/6);
      let len=random(size,size+15);
      let thick=random(2,4);
      let x2=mouseX+cos(angle)*len;
      let y2=mouseY+sin(angle)*len;
      let c=random(palette);
      stroke(c[0],c[1],c[2],150);
      strokeWeight(thick);
      line(mouseX,mouseY,x2,y2);
    }
  }
  else if (toolChoice == '5') {
    for(let i=0;i<18;i++){
      let ox=random(-30,30);let oy=random(-30,30);
      let s=random(1.5,size);
      let c=random(palette);
      fill(c[0],c[1],c[2],random(80,180));
      noStroke();
      drawStar(mouseX+ox,mouseY+oy,s/2,s,5);
    }
  }
  else if (toolChoice == '6') {
    for(let i=0;i<12;i++){
      let px=mouseX+random(-10,10);let py=mouseY+random(-10,10);
      let sz=random(2,size);let c=random(palette);
      noStroke();
      fill(c[0],c[1],c[2],150);
      circle(px,py,sz);
    }
  }
  else if (toolChoice == '7') {
    for(let i=0;i<6;i++){
      let bx=mouseX+random(-15,15);
      let by=mouseY+random(-15,15);
      let bsize=random(1,size);
      let alpha=random(50,120);
      let c=random(palette);
      fill(c[0],c[1],c[2],alpha);
      noStroke();
      circle(bx,by,bsize);
    }
  }
  else if (toolChoice == '8') {
    for(let i=size;i>=1;i--){
      let c=random(palette);
      stroke(c[0],c[1],c[2],50);
      strokeWeight(i*2);
      line(pmouseX,pmouseY,mouseX,mouseY);
    }
  }
  else if (toolChoice == '9') {
    let base=random(size,size+10);
    for(let glow=3;glow>=1;glow--){
      let c=random(palette);
      noFill();
      stroke(c[0],c[1],c[2],120/glow);
      strokeWeight(glow*2);
      circle(mouseX,mouseY,base+glow*5);
    }
  }
  else if (toolChoice == '0') {
    for(let i=0;i<3;i++){
      let c=random(palette);
      energyRipples.push({x:mouseX,y:mouseY,radius:random(5,15),color:c,alpha:150});
    }
  }
  else if (toolChoice == 'g' || toolChoice=='G') {
    image(img,mouseX,mouseY,50,50);
  }
}

// Clean & Screenshot
function clear_print() {
  if(key=='x'||key=='X'){
    clear(); background(screenbg);
    drippingDrops=[]; blowDrops=[]; energyRipples=[];
  }
  else if(key=='p'||key=='P'){saveme();}
}

function saveme() {
  let filename=initials+day()+hour()+minute()+second();
  if(second()!=lastscreenshot){saveCanvas(filename,'jpg'); key="";}
  lastscreenshot=second();
}
</script>

</body>
</html>
